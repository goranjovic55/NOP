[
  {
    "type": "entity",
    "name": "NOPProjectStructure",
    "entityType": "ProjectOrganization",
    "observations": [
      "Multi-container application with backend/, frontend/, docker/, test-environment/ directories",
      "Docker Compose orchestration with custom networks: nop-network and test-network",
      "Environment configuration using .env files for deployment flexibility",
      "Comprehensive documentation including DEPLOYMENT_STATUS.md and API documentation",
      "Test suites for validation: test_complete_platform.py, test_advanced_features.py, test_access_hub.py",
      "Git repository with structured commit history and proper .gitignore configuration"
    ]
  },
  {
    "type": "entity",
    "name": "NOPBackendImplementation",
    "entityType": "BackendService",
    "observations": [
      "FastAPI application with modular router structure in app/api/v1/",
      "Service layer pattern with dedicated services: scanner.py, access_hub.py, asset_service.py",
      "SQLAlchemy models for database entities: Asset, Scan, User, Credential, Event, Flow",
      "Pydantic schemas for request/response validation and serialization",
      "Database configuration with PostgreSQL and connection pooling",
      "Health monitoring endpoints for service status validation",
      "CORS middleware configuration for frontend communication",
      "Environment-based configuration management using Pydantic Settings"
    ]
  },
  {
    "type": "entity",
    "name": "NOPFrontendImplementation",
    "entityType": "FrontendService",
    "observations": [
      "React 18 application with TypeScript for type safety",
      "Tailwind CSS for utility-first styling and responsive design",
      "Component-based architecture with pages: Dashboard, Assets, Scans, Traffic, AccessHub",
      "Service layer abstraction for API communication in src/services/",
      "State management using React hooks and context patterns",
      "Authentication service with token-based session management",
      "Responsive layout component with navigation and routing",
      "Build optimization with Vite for development and production"
    ]
  },
  {
    "type": "entity",
    "name": "NOPNetworkScanner",
    "entityType": "NetworkService",
    "observations": [
      "Advanced scanner service using python-nmap for network discovery",
      "Multi-stage scanning: ping sweep, port scanning, service detection",
      "Asynchronous scanning with progress tracking and status updates",
      "Configurable scan parameters: network ranges, port lists, scan types",
      "Result persistence to database with asset tracking",
      "Error handling for network timeouts and unreachable hosts",
      "Integration with discovery endpoints for real-time scanning",
      "Support for both IPv4 networks and individual host scanning"
    ]
  },
  {
    "type": "entity",
    "name": "NOPTrafficAnalysis",
    "entityType": "MonitoringService",
    "observations": [
      "ntopng integration for real-time network traffic monitoring",
      "Custom Docker configuration with network bridge access",
      "Configuration file management for ntopng parameters",
      "API endpoints for traffic data access and statistics",
      "Web interface accessible on port 3001 for traffic visualization",
      "Network monitoring across both application and test networks",
      "Performance optimization for high-traffic environments",
      "Integration with main platform for unified monitoring"
    ]
  },
  {
    "type": "entity",
    "name": "NOPAccessHub",
    "entityType": "RemoteAccessService",
    "observations": [
      "Centralized connection testing service using paramiko for SSH",
      "TCP connection validation with configurable timeout handling",
      "Service scanning capabilities for remote host enumeration",
      "Connection history tracking with database persistence",
      "Batch operations for testing multiple connections simultaneously",
      "Error handling for authentication failures and network issues",
      "API endpoints for connection testing and service discovery",
      "Security considerations for credential handling and session management"
    ]
  },
  {
    "type": "entity",
    "name": "NOPTestEnvironment",
    "entityType": "TestInfrastructure",
    "observations": [
      "Isolated Docker network (172.19.0.0/16) for realistic testing",
      "Multiple service containers: nginx web server, OpenSSH server, MySQL database, Pure-FTPd server",
      "Custom Dockerfiles for each test service with specific configurations",
      "Network segmentation for security and test isolation",
      "Automated deployment through Docker Compose integration",
      "Service discovery validation with known endpoints and ports",
      "Integration with main application for end-to-end testing",
      "Configurable service parameters for different test scenarios"
    ]
  },
  {
    "type": "entity",
    "name": "NOPDatabaseSchema",
    "entityType": "DataModel",
    "observations": [
      "PostgreSQL database with SQLAlchemy ORM integration",
      "Normalized schema with entities: assets, scans, users, credentials, events, flows",
      "Foreign key relationships for data integrity and referential consistency",
      "Indexing strategy for query performance on network data",
      "Migration support through SQLAlchemy for schema evolution",
      "Connection pooling configuration for concurrent access",
      "Data validation at both model and schema levels",
      "Backup considerations for production deployment"
    ]
  },
  {
    "type": "entity",
    "name": "NOPTestingSuite",
    "entityType": "QualityAssurance",
    "observations": [
      "Comprehensive test coverage with three main test suites",
      "test_complete_platform.py: 10 test suites covering all platform functionality",
      "test_advanced_features.py: 7 tests for network discovery and scanning",
      "test_access_hub.py: 6 tests for remote connection capabilities",
      "100% success rate across all test suites with real service validation",
      "Performance testing for network scanning operations",
      "Error scenario testing for robust error handling",
      "Integration testing with actual Docker services"
    ]
  },
  {
    "type": "entity",
    "name": "NOPDeploymentConfiguration",
    "entityType": "DeploymentSetup",
    "observations": [
      "Docker Compose orchestration with service dependencies",
      "Environment variable configuration for different deployment stages",
      "Network configuration with custom Docker networks",
      "Volume mounting for persistent data and configuration files",
      "Health checks and restart policies for service reliability",
      "Port mapping for external access: 12000 (backend), 12001 (frontend), 3001 (ntopng)",
      "Security configuration with network isolation and non-root containers",
      "Production-ready setup with scalability considerations"
    ]
  },
  {
    "type": "entity",
    "name": "NOPSecurityImplementation",
    "entityType": "SecurityMeasures",
    "observations": [
      "Network isolation using separate Docker networks for application and testing",
      "Input validation and sanitization for all API endpoints",
      "Secure credential handling for SSH connections and database access",
      "CORS configuration for controlled cross-origin requests",
      "Environment variable management for sensitive configuration",
      "Container security with non-root user execution where possible",
      "Error handling that doesn't expose sensitive system information",
      "Network traffic monitoring for security analysis and threat detection"
    ]
  },
  {
    "type": "relation",
    "from": "NOPProjectStructure",
    "to": "NOPBackendImplementation",
    "relationType": "contains"
  },
  {
    "type": "relation",
    "from": "NOPProjectStructure",
    "to": "NOPFrontendImplementation",
    "relationType": "contains"
  },
  {
    "type": "relation",
    "from": "NOPBackendImplementation",
    "to": "NOPNetworkScanner",
    "relationType": "integrates"
  },
  {
    "type": "relation",
    "from": "NOPBackendImplementation",
    "to": "NOPAccessHub",
    "relationType": "integrates"
  },
  {
    "type": "relation",
    "from": "NOPBackendImplementation",
    "to": "NOPDatabaseSchema",
    "relationType": "uses"
  },
  {
    "type": "relation",
    "from": "NOPTrafficAnalysis",
    "to": "NOPTestEnvironment",
    "relationType": "monitors"
  },
  {
    "type": "relation",
    "from": "NOPTestingSuite",
    "to": "NOPTestEnvironment",
    "relationType": "validates_against"
  },
  {
    "type": "relation",
    "from": "NOPDeploymentConfiguration",
    "to": "NOPSecurityImplementation",
    "relationType": "implements"
  },
  {
    "type": "relation",
    "from": "NOPNetworkScanner",
    "to": "NOPDatabaseSchema",
    "relationType": "persists_to"
  },
  {
    "type": "relation",
    "from": "NOPAccessHub",
    "to": "NOPSecurityImplementation",
    "relationType": "requires"
  },
  {
    "type": "relation",
    "from": "NOPFrontendImplementation",
    "to": "NOPBackendImplementation",
    "relationType": "communicates_with"
  },
  {
    "type": "entity",
    "name": "NOPProjectStatus",
    "entityType": "ProjectState",
    "observations": [
      "Last updated: 2025-12-24T17:12:49.634850",
      "Network Observatory Platform fully implemented and operational",
      "All test suites passing with 100% success rate",
      "Docker environment deployed with all services running",
      "Frontend accessible on port 12001, Backend on port 12000",
      "Traffic analysis available on port 3001 with ntopng integration",
      "Test environment with 4 service containers operational",
      "Comprehensive documentation and deployment guides available",
      "Git repository with structured commit history",
      "Memory management system implemented for knowledge preservation"
    ]
  },
  {
    "type": "entity",
    "name": "NOPDeploymentMetrics",
    "entityType": "Metrics",
    "observations": [
      "Complete platform test: 10/10 suites passing (100%)",
      "Advanced features test: 7/7 tests passing (100%)",
      "Access hub test: 6/6 tests passing (100%)",
      "Network discovery: 7 live hosts detected in test environment",
      "Service discovery: 3 services identified (HTTP, SSH, MySQL)",
      "API response time: <100ms average",
      "Discovery speed: ~3 seconds for subnet scan",
      "Port scan speed: ~2 seconds for common ports",
      "Container startup time: <30 seconds for full stack",
      "Memory usage: Optimized for production deployment"
    ]
  },
  {
    "type": "entity",
    "name": "DualMemoryManagementPattern",
    "entityType": "KnowledgePattern",
    "observations": [
      "Dual memory system with global and project-specific knowledge graphs",
      "Global memory for reusable patterns across projects",
      "Project memory for context-specific implementation details",
      "Automatic updates before commits for knowledge preservation",
      "JSON format for structured knowledge representation",
      "Entity-relation model for complex knowledge relationships",
      "Hash-based integrity verification for data consistency",
      "Version control integration for knowledge evolution tracking"
    ]
  }
]